{
  "project": "Switchboard",
  "branchName": "ralph/milestone-h2",
  "description": "Milestone H2 â€” Context Repo Protocol spec + repo bootstrapper. CRP v0.1 spec and crp_init script.",
  "userStories": [
    {
      "id": "US-001",
      "title": "Create CRP v0.1 spec document scaffold",
      "description": "As a developer, I need a specification document so that all tools agree on context repo structure.",
      "acceptanceCriteria": [
        "docs/crp/crp-v0.1.md exists (replace placeholder)",
        "Document has title: Context Repo Protocol v0.1",
        "Document has sections: Purpose, Version, Directory Layout, File Naming, Event Format, Policy",
        "Purpose section explains CRP is the canonical structure for git-based context repos",
        "Version section states v0.1",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Document directory layout in CRP spec",
      "description": "As a developer, I need the directory structure documented so that I know where files belong.",
      "acceptanceCriteria": [
        "Directory Layout section documents events/ directory for event files",
        "Documents snapshots/ directory for state snapshots",
        "Documents policy/ directory for access policies",
        "Documents .crp/ directory for repo metadata",
        "Each directory has description of its purpose",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Document file naming conventions in CRP spec",
      "description": "As a developer, I need file naming conventions so that events are organized predictably.",
      "acceptanceCriteria": [
        "File Naming section documents event files: events/{feed_id}/{YYYY-MM-DD}/{event_id}.json",
        "Documents policy file: policy/policy.json",
        "Documents manifest file: .crp/manifest.json",
        "Documents snapshot naming convention (can be placeholder for future)",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Document event file format in CRP spec",
      "description": "As a developer, I need the event file format documented so that files are parseable.",
      "acceptanceCriteria": [
        "Event Format section documents that event files are JSON",
        "Lists required fields: event_id, feed_id, type, author_identity_id, source, ts, payload",
        "Documents source object structure: platform, adapter_id, source_msg_id",
        "Documents refs as optional",
        "Includes example event JSON",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Document policy structure in CRP spec",
      "description": "As a developer, I need policy structure documented so that access control is consistent.",
      "acceptanceCriteria": [
        "Policy section documents policy/policy.json structure",
        "Documents members array field",
        "Documents permissions object field",
        "Notes that policy enforcement is future work",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Create crp_init script scaffold",
      "description": "As a developer, I need a Node.js script to bootstrap context repos.",
      "acceptanceCriteria": [
        "scripts/crp_init.ts exists",
        "Script accepts target directory as first argument",
        "Script is executable via npx ts-node scripts/crp_init.ts <path>",
        "Prints usage if no path argument provided",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "crp_init creates directory structure",
      "description": "As a developer, I want crp_init to create the standard CRP directories.",
      "acceptanceCriteria": [
        "Creates events/ directory in target path",
        "Creates snapshots/ directory in target path",
        "Creates policy/ directory in target path",
        "Creates .crp/ directory in target path",
        "Creates .gitkeep in empty directories (events/, snapshots/)",
        "Typecheck passes"
      ],
      "priority": 7,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "crp_init writes README",
      "description": "As a developer, I want crp_init to generate a README explaining the repo.",
      "acceptanceCriteria": [
        "Creates README.md in target directory",
        "README explains this is a Context Repo following CRP v0.1",
        "README documents the directory layout (events/, snapshots/, policy/, .crp/)",
        "Typecheck passes"
      ],
      "priority": 8,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "crp_init writes policy skeleton",
      "description": "As a developer, I want crp_init to generate a placeholder policy file.",
      "acceptanceCriteria": [
        "Creates policy/policy.json in target directory",
        "Policy JSON has members: [] array",
        "Policy JSON has permissions: {} object",
        "File is valid JSON",
        "Typecheck passes"
      ],
      "priority": 9,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "crp_init writes manifest",
      "description": "As a developer, I want crp_init to generate a manifest file with repo metadata.",
      "acceptanceCriteria": [
        "Creates .crp/manifest.json in target directory",
        "Manifest includes version: \"0.1\"",
        "Manifest includes created_at with ISO-8601 timestamp",
        "File is valid JSON",
        "Typecheck passes"
      ],
      "priority": 10,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "crp_init optional git init",
      "description": "As a developer, I want crp_init to optionally initialize git.",
      "acceptanceCriteria": [
        "Accepts --git flag as optional argument",
        "When --git passed, runs git init in target directory",
        "When --git passed, creates initial commit with message \"Initialize context repo\"",
        "Without --git flag, does not touch git",
        "Typecheck passes"
      ],
      "priority": 11,
      "passes": false,
      "notes": ""
    }
  ]
}
